import{aq as t}from"./D4kMGBnM.js";const i=t("auth",{state:()=>({user:null,loading:!1}),getters:{isAuthenticated:e=>!!(e.user&&!e.user.expired),accessToken:e=>{var s;return((s=e.user)==null?void 0:s.access_token)||null},idToken:e=>{var s;return((s=e.user)==null?void 0:s.id_token)||null},refreshToken:e=>{var s;return((s=e.user)==null?void 0:s.refresh_token)||null},userName:e=>{var s,r;return((r=(s=e.user)==null?void 0:s.profile)==null?void 0:r.preferred_username)||null},groups:e=>{var s,r;return((r=(s=e.user)==null?void 0:s.profile)==null?void 0:r.groups)||null},subName:e=>{var s,r;return((r=(s=e.user)==null?void 0:s.profile)==null?void 0:r.sub)||null}},actions:{async init(e){this.loading=!0;try{const s=await e.getUser();s&&!s.expired&&(this.user=s)}finally{this.loading=!1}},async login(e){await e.signinRedirect()},async handleCallback(e){const s=await e.signinRedirectCallback();return this.user=s,s},async logout(e){await e.signoutRedirect(),this.user=null},setUser(e){this.user=e}}});export{i as u};
